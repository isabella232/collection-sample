<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="1368" height="755pt" version="1.1" viewBox="0 0 1026 755"><metadata>Produced by OmniGraffle 6.5</metadata><defs><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="16" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><marker id="FilledArrow_Marker" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="14" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face x-height="498" ascent="983.994" cap-height="668" descent="-272.995" font-family="Source Code Pro" font-size="12" font-weight="500" panose-1="2 11 5 9 3 4 3 2 2 4" slope="0" underline-position="-75" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="SourceCodePro-Regular"/></font-face-src></font-face><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="10" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><marker id="FilledArrow_Marker_2" color="#b1001c" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker><marker id="FilledArrow_Marker_3" color="#b1001c" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="12" font-weight="bold" panose-1="2 0 8 3 0 0 0 9 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Bold"/></font-face-src></font-face><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="12" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="18" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face></defs><g fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>$sample</title><rect width="1026" height="755" fill="#fff"/><g><title>Layer 1</title><rect width="180" height="36" x="774" y="135" fill="#fff"/><rect width="180" height="36" x="774" y="135" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(779 144)"><tspan x="40.696" y="15" font-family="Helvetica Neue" font-size="16" font-weight="500" textLength="88.608">Compass UI</tspan></text><rect width="180" height="36" x="499.5" y="135" fill="#fff"/><rect width="180" height="36" x="499.5" y="135" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(504.5 144)"><tspan x="40.112" y="15" font-family="Helvetica Neue" font-size="16" font-weight="500" textLength="89.776">scout-server</tspan></text><rect width="180" height="36" x="225" y="135" fill="#fff"/><rect width="180" height="36" x="225" y="135" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(230 144)"><tspan x="48.696" y="15" font-family="Helvetica Neue" font-size="16" font-weight="500" textLength="72.608">MongoDB</tspan></text><line x1="315" x2="315" y1="171" y2="682" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="589.5" x2="589.5" y1="171" y2="682.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="864" x2="864" y1="171" y2="682.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="856.125" x2="608.4" y1="217.969" y2="217.969" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="107" height="27" x="675.22" y="204.469" fill="#fff"/><text fill="#000" transform="translate(680.21984 209.96875)"><tspan x=".389" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="53.942">sample r</tspan><tspan x="54.079" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="42.532">equest</tspan></text><line x1="581.625" x2="333.9" y1="217.969" y2="217.969" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="111" height="55" x="397.208" y="190.469" fill="#fff"/><text fill="#000" transform="translate(402.2084 195.46875)"><tspan x="10.9" y="12" font-family="Source Code Pro" font-size="12" font-weight="500" textLength="79.2">aggregate([</tspan><tspan x="7.3" y="27" font-family="Source Code Pro" font-size="12" font-weight="500" textLength="93.6">{$match: …}, </tspan><tspan x=".1" y="42" font-family="Source Code Pro" font-size="12" font-weight="500" textLength="100.8">{$sample: …}])</tspan></text><line x1="324" x2="571.725" y1="313.875" y2="313.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="69" height="27" x="418.258" y="300.375" fill="#fff"/><text fill="#000" transform="translate(423.25801 305.875)"><tspan x=".45" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="58.1">100 docs</tspan></text><line x1="343.191" x2="285.75" y1="609.375" y2="609.375" stroke="#000" stroke-dasharray="2 2" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(214.25 597.875)"><tspan x=".155" y="10" font-family="Helvetica Neue" font-size="10" font-weight="500" textLength="61.69">$maxTimeMS</tspan><tspan x="14.14" y="22" font-family="Helvetica Neue" font-size="10" font-weight="500" textLength="33.72">timeout</tspan></text><line x1="323.896" x2="571.725" y1="623.406" y2="623.406" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker_2)"/><rect width="91" height="27" x="407.206" y="609.906" fill="#fff"/><text fill="#b1001c" transform="translate(412.20595 615.40625)"><tspan x=".306" y="13" fill="#b1001c" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="67.942">timeout err</tspan><tspan x="67.996" y="13" fill="#b1001c" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="12.698">or</tspan></text><line x1="598.396" x2="846.225" y1="622.906" y2="622.906" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker_3)"/><rect width="91" height="27" x="681.706" y="609.406" fill="#fff"/><text fill="#b1001c" transform="translate(686.70595 614.90625)"><tspan x=".306" y="13" fill="#b1001c" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="67.942">timeout err</tspan><tspan x="67.996" y="13" fill="#b1001c" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="12.698">or</tspan></text><circle cx="305.5" cy="313.875" r="8.5" fill="#3d3832"/><text fill="#fff" transform="translate(302 306.375)"><tspan x=".164" y="12" fill="#fff" font-family="Helvetica Neue" font-size="12" font-weight="bold" textLength="6.672">1</tspan></text><circle cx="305.5" cy="624.406" r="8.5" fill="#3d3832"/><text fill="#fff" transform="translate(302 615.90625)"><tspan x=".164" y="12" fill="#fff" font-family="Helvetica Neue" font-size="12" font-weight="bold" textLength="6.672">2</tspan></text><line x1="598.5" x2="846.825" y1="315" y2="405.607" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="69" height="42" x="695.308" y="341.911" fill="#fff"/><text fill="#000" transform="translate(700.30797 346.91053)"><tspan x=".45" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="58.1">100 docs</tspan><tspan x="4.475" y="29" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="19.698">(str</tspan><tspan x="23.921" y="29" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="30.604">eam)</tspan></text><line x1="856.125" x2="856.125" y1="409" y2="526.574" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="61" height="42" x="825.625" y="450.393" fill="#fff"/><text fill="#000" transform="translate(830.625 455.39279)"><tspan x=".86" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="49.28">schema</tspan><tspan x=".482" y="29" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="50.036">analysis</tspan></text><path fill="#fff" d="M 837.4052 536.47434 L 887.2042 536.47434 C 893.0947 536.47434 897.8754 542.52234 897.8754 549.97434 C 897.8754 557.42634 893.0947 563.47434 887.2042 563.47434 L 837.4052 563.47434 C 831.51467 563.47434 826.73396 557.42634 826.73396 549.97434 C 826.73396 542.52234 831.51467 536.47434 837.4052 536.47434"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 837.4052 536.47434 L 887.2042 536.47434 C 893.0947 536.47434 897.8754 542.52234 897.8754 549.97434 C 897.8754 557.42634 893.0947 563.47434 887.2042 563.47434 L 837.4052 563.47434 C 831.51467 563.47434 826.73396 557.42634 826.73396 549.97434 C 826.73396 542.52234 831.51467 536.47434 837.4052 536.47434"/><text fill="#000" transform="translate(838.8481 542.97434)"><tspan x="4.455" y="11" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="38.004">display</tspan></text><text fill="#000" transform="translate(449.5 50.1439)"><tspan x=".122" y="17" font-family="Helvetica Neue" font-size="18" font-weight="500" textLength="279.756">sampling with $sample (post 3.1.6)</tspan></text></g></g></svg>