<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="1368" height="1156" version="1.1" viewBox="0 0 1026 867"><metadata>Produced by OmniGraffle 6.5</metadata><defs><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="16" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><marker id="FilledArrow_Marker" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="14" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face x-height="498" ascent="983.994" cap-height="668" descent="-272.995" font-family="Source Code Pro" font-size="12" font-weight="500" panose-1="2 11 5 9 3 4 3 2 2 4" slope="0" underline-position="-75" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="SourceCodePro-Regular"/></font-face-src></font-face><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="10" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><marker id="FilledArrow_Marker_2" color="#b1001c" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="12" font-weight="bold" panose-1="2 0 8 3 0 0 0 9 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Bold"/></font-face-src></font-face><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="12" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="18" font-weight="500" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face></defs><g fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>client sampling</title><rect width="1026" height="867" fill="#fff"/><g><title>Layer 1</title><rect width="180" height="36" x="774" y="135" fill="#fff"/><rect width="180" height="36" x="774" y="135" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(779 144)"><tspan x="40.696" y="15" font-family="Helvetica Neue" font-size="16" font-weight="500" textLength="88.608">Compass UI</tspan></text><rect width="180" height="36" x="499.5" y="135" fill="#fff"/><rect width="180" height="36" x="499.5" y="135" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(504.5 144)"><tspan x="40.112" y="15" font-family="Helvetica Neue" font-size="16" font-weight="500" textLength="89.776">scout-server</tspan></text><rect width="180" height="36" x="225" y="135" fill="#fff"/><rect width="180" height="36" x="225" y="135" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(230 144)"><tspan x="48.696" y="15" font-family="Helvetica Neue" font-size="16" font-weight="500" textLength="72.608">MongoDB</tspan></text><line x1="315" x2="315" y1="171" y2="793" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="589.5" x2="589.5" y1="171" y2="794.25" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="864" x2="864" y1="171" y2="794.25" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="856.125" x2="608.4" y1="217.969" y2="217.969" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="107" height="27" x="675.22" y="204.469" fill="#fff"/><text fill="#000" transform="translate(680.21985 209.96875)"><tspan x=".389" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="53.942">sample r</tspan><tspan x="54.079" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="42.532">equest</tspan></text><line x1="581.625" x2="333.9" y1="217.969" y2="217.969" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="140" height="70" x="382.708" y="182.969" fill="#fff"/><text fill="#000" transform="translate(387.7084 187.96875)"><tspan x="0" y="12" font-family="Source Code Pro" font-size="12" font-weight="500" textLength="129.6">find({â€¦}, {_id:1})</tspan><tspan x="0" y="27" font-family="Source Code Pro" font-size="12" font-weight="500" textLength="115.2"> .limit(10,000)</tspan><tspan x="0" y="42" font-family="Source Code Pro" font-size="12" font-weight="500" textLength="129.6"> .sort({_id: -1})</tspan></text><line x1="324" x2="571.725" y1="313.875" y2="313.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="83" height="27" x="411.258" y="300.375" fill="#fff"/><text fill="#000" transform="translate(416.25802 305.875)"><tspan x=".443" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="72.114">10,000 _ids</tspan></text><line x1="343.191" x2="285.75" y1="712.281" y2="712.281" stroke="#000" stroke-dasharray="2 2" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(214.25 700.78125)"><tspan x=".155" y="10" font-family="Helvetica Neue" font-size="10" font-weight="500" textLength="61.69">$maxTimeMS</tspan><tspan x="14.14" y="22" font-family="Helvetica Neue" font-size="10" font-weight="500" textLength="33.72">timeout</tspan></text><line x1="323.896" x2="571.725" y1="726.313" y2="726.313" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker_2)"/><rect width="91" height="27" x="407.206" y="712.813" fill="#fff"/><text fill="#b1001c" transform="translate(412.20595 718.3125)"><tspan x=".306" y="13" fill="#b1001c" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="67.942">timeout err</tspan><tspan x="67.996" y="13" fill="#b1001c" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="12.698">or</tspan></text><line x1="598.396" x2="846.225" y1="725.813" y2="725.813" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker_2)"/><rect width="91" height="27" x="681.706" y="712.313" fill="#fff"/><text fill="#b1001c" transform="translate(686.70595 717.8125)"><tspan x=".306" y="13" fill="#b1001c" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="67.942">timeout err</tspan><tspan x="67.996" y="13" fill="#b1001c" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="12.698">or</tspan></text><circle cx="305.5" cy="313.875" r="8.5" fill="#3d3832"/><text fill="#fff" transform="translate(302 306.375)"><tspan x=".164" y="12" fill="#fff" font-family="Helvetica Neue" font-size="12" font-weight="bold" textLength="6.672">1</tspan></text><circle cx="305.5" cy="727.313" r="8.5" fill="#3d3832"/><text fill="#fff" transform="translate(302 718.8125)"><tspan x=".164" y="12" fill="#fff" font-family="Helvetica Neue" font-size="12" font-weight="bold" textLength="6.672">2</tspan></text><line x1="598.5" x2="841.234" y1="435.828" y2="476.204" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="69" height="42" x="693.718" y="436.405" fill="#fff"/><text fill="#000" transform="translate(698.71762 441.40492)"><tspan x=".45" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="58.1">100 docs</tspan><tspan x="4.475" y="29" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="19.698">(str</tspan><tspan x="23.921" y="29" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="30.604">eam)</tspan></text><line x1="855.25" x2="856.182" y1="478" y2="613.468" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><rect width="61" height="42" x="825.192" y="521.253" fill="#fff"/><text fill="#000" transform="translate(830.192 526.25318)"><tspan x=".86" y="13" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="49.28">schema</tspan><tspan x=".482" y="29" font-family="Helvetica Neue" font-size="14" font-weight="500" textLength="50.036">analysis</tspan></text><path fill="#fff" d="M 839.1005 626.07144 L 888.8995 626.07144 C 894.79 626.07144 899.5707 632.11944 899.5707 639.57144 C 899.5707 647.02344 894.79 653.07144 888.8995 653.07144 L 839.1005 653.07144 C 833.21 653.07144 828.4293 647.02344 828.4293 639.57144 C 828.4293 632.11944 833.21 626.07144 839.1005 626.07144"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 839.1005 626.07144 L 888.8995 626.07144 C 894.79 626.07144 899.5707 632.11944 899.5707 639.57144 C 899.5707 647.02344 894.79 653.07144 888.8995 653.07144 L 839.1005 653.07144 C 833.21 653.07144 828.4293 647.02344 828.4293 639.57144 C 828.4293 632.11944 833.21 626.07144 839.1005 626.07144"/><text fill="#000" transform="translate(840.5434 632.57144)"><tspan x="4.455" y="11" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="38.004">display</tspan></text><text fill="#000" transform="translate(458 50.1439)"><tspan x=".451" y="17" font-family="Helvetica Neue" font-size="18" font-weight="500" textLength="203.058">sampling on the client (pr</tspan><tspan x="203.185" y="17" font-family="Helvetica Neue" font-size="18" font-weight="500" textLength="59.364">e 3.1.6)</tspan></text><line x1="580.5" x2="580.5" y1="313.875" y2="405.1" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><text fill="#000" transform="translate(596.625 311)"><tspan x=".174" y="11" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="50.652">Reservoir</tspan><tspan x=".27" y="25" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="50.46">Sampling</tspan></text><rect width="56" height="25" x="552.5" y="352.182" fill="#fff"/><text fill="#000" transform="translate(557.5 357.68242)"><tspan x=".434" y="11" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="45.132">100 _ids</tspan></text><line x1="581.625" x2="333.9" y1="416.25" y2="416.25" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="420" y2="420" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="424" y2="424" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="428" y2="428" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="432" y2="432" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="436" y2="436" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="440" y2="440" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="444" y2="444" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="448" y2="448" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="581.625" x2="333.9" y1="452" y2="452" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="438.125" y2="438.125" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="441.875" y2="441.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="445.875" y2="445.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="449.875" y2="449.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="453.875" y2="453.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="457.875" y2="457.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="461.875" y2="461.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="465.875" y2="465.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="469.875" y2="469.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><line x1="324" x2="571.725" y1="473.875" y2="473.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/><text fill="#000" transform="translate(416.25802 401.5)"><tspan x=".208" y="11" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="29.568">100 fi</tspan><tspan x="29.776" y="11" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="56.016">nd() on _id</tspan></text><line x1="315" x2="315" y1="217.969" y2="313.594" stroke="#ef1f1d" stroke-linecap="round" stroke-linejoin="round" stroke-opacity=".5" stroke-width="7"/><text fill="#ef1f1d" transform="translate(222 251.78125)"><tspan x="12.214" y="11" fill="#ef1f1d" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="55.572">busy state</tspan><tspan x=".214" y="25" fill="#ef1f1d" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="79.572">(indeterminate)</tspan></text><line x1="580.625" x2="580.625" y1="316.625" y2="435.828" stroke="#ef1f1d" stroke-linecap="round" stroke-linejoin="round" stroke-opacity=".5" stroke-width="7"/><text fill="#ef1f1d" transform="translate(168.125 396)"><tspan x=".214" y="11" fill="#ef1f1d" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="55.572">busy state</tspan><tspan x="1.444" y="25" fill="#ef1f1d" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="14.22">(pr</tspan><tspan x="15.448" y="25" fill="#ef1f1d" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="17.772">ogr</tspan><tspan x="33.004" y="25" fill="#ef1f1d" font-family="Helvetica Neue" font-size="12" font-weight="500" textLength="21.552">ess)</tspan></text><line x1="856.25" x2="856.25" y1="438.125" y2="474.875" stroke="#ef1f1d" stroke-linecap="round" stroke-linejoin="round" stroke-opacity=".5" stroke-width="7"/></g></g></svg>